# üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ - –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤

## üéØ –ì–ª–∞–≤–Ω—ã–µ –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–µ —Ñ–∞–π–ª—ã

### `voice_chat_gemini.py` ‚≠ê **[–û–°–ù–û–í–ù–û–ô –§–ê–ô–õ]**
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ê–∫—Ç—É–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è  
**–û–ø–∏—Å–∞–Ω–∏–µ**: –ü–æ–ª–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –≥–æ–ª–æ—Å–æ–≤–æ–≥–æ —á–∞—Ç–∞ —Å –∞–≤–∞—Ç–∞—Ä–æ–º  
**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**:
- üé§ –†–µ–∞–ª—å–Ω—ã–π –º–∏–∫—Ä–æ—Ñ–æ–Ω (PyAudio)
- üîä Deepgram STT (—Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ä–µ—á–∏)
- üß† Google Gemini LLM (–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–æ–≤)
- üë§ HeyGen Interactive Avatar
- üìπ –ù–µ–ø—Ä–µ—Ä—ã–≤–Ω–∞—è –∑–∞–ø–∏—Å—å –≤—Å–µ–π —Å–µ—Å—Å–∏–∏ (LiveKit + FFmpeg)

**–ó–∞–ø—É—Å–∫**: `python voice_chat_gemini.py`

### `voice_chat_demo.py` 
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –î–µ–º–æ –≤–µ—Ä—Å–∏—è  
**–û–ø–∏—Å–∞–Ω–∏–µ**: –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è —Å 4 —Ç–µ—Å—Ç–æ–≤—ã–º–∏ —Å—Ü–µ–Ω–∞—Ä–∏—è–º–∏  
**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**:
- –ü—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ç–µ—Å—Ç–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
- –û—Ç–¥–µ–ª—å–Ω—ã–µ –≤–∏–¥–µ–æ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –æ—Ç–≤–µ—Ç–∞
- –ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

**–ó–∞–ø—É—Å–∫**: `python voice_chat_demo.py`

### `simple_voice_chat.py`
**–°—Ç–∞—Ç—É—Å**: ‚ö†Ô∏è –£—Å—Ç–∞—Ä–µ–ª–∞  
**–û–ø–∏—Å–∞–Ω–∏–µ**: –ü—Ä–æ—Å—Ç–∞—è –≤–µ—Ä—Å–∏—è —Å OpenAI (–ø—Ä–æ–±–ª–µ–º—ã —Å –∫–≤–æ—Ç–æ–π)  
**–ü—Ä–æ–±–ª–µ–º–∞**: OpenAI API quota exceeded

### `main.py`
**–°—Ç–∞—Ç—É—Å**: üîÑ –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ  
**–û–ø–∏—Å–∞–Ω–∏–µ**: –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ –∫–æ–Ω—Å–æ–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å  
**–ü–ª–∞–Ω—ã**: –ë—É–¥—É—â–∏–π UI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

---

## üèóÔ∏è –û—Å–Ω–æ–≤–Ω—ã–µ –º–æ–¥—É–ª–∏

### `heygen/` - HeyGen API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

#### `heygen/session_manager.py`
**–§—É–Ω–∫—Ü–∏—è**: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏—è–º–∏ HeyGen –∞–≤–∞—Ç–∞—Ä–æ–≤  
**–ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç–æ–¥—ã**:
- `create_session()` - –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π —Å–µ—Å—Å–∏–∏
- `start_session()` - –ó–∞–ø—É—Å–∫ —Å–µ—Å—Å–∏–∏  
- `send_task()` - –û—Ç–ø—Ä–∞–≤–∫–∞ —Ç–µ–∫—Å—Ç–∞ –∞–≤–∞—Ç–∞—Ä—É
- `close_session()` - –ó–∞–∫—Ä—ã—Ç–∏–µ —Å–µ—Å—Å–∏–∏
- `get_available_avatars()` - –°–ø–∏—Å–æ–∫ –∞–≤–∞—Ç–∞—Ä–æ–≤

**Endpoints**:
- `POST /v1/streaming/create_session`
- `POST /v1/streaming/start_session`
- `POST /v1/streaming/send_task`
- `POST /v1/streaming/close_session`

#### `heygen/config.py`
**–§—É–Ω–∫—Ü–∏—è**: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é  
**–ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã**:
```python
DEFAULT_AVATAR_ID = "default"
DEFAULT_QUALITY = "medium"
DEFAULT_VOICE_RATE = 1.0
HEYGEN_BASE_URL = "https://api.heygen.com/v1"
```

### `pipecat_integration/` - –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ—Ç–æ–∫–æ–≤ –∏ –∑–∞–ø–∏—Å—å

#### `pipecat_integration/livekit_client.py` ‚≠ê **[–ö–õ–Æ–ß–ï–í–û–ô –ú–û–î–£–õ–¨]**
**–§—É–Ω–∫—Ü–∏—è**: LiveKit –∫–ª–∏–µ–Ω—Ç –¥–ª—è –∑–∞–ø–∏—Å–∏ –≤–∏–¥–µ–æ –∏ –∞—É–¥–∏–æ  
**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏**:
- WebRTC –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ HeyGen
- –ù–µ–ø—Ä–µ—Ä—ã–≤–Ω–∞—è –∑–∞–ø–∏—Å—å –≤–∏–¥–µ–æ (VP8, 1280x720)
- –ó–∞—Ö–≤–∞—Ç –∞—É–¥–∏–æ (WAV, 48kHz)  
- FFmpeg –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –≤–∏–¥–µ–æ + –∞—É–¥–∏–æ
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ MP4 —Ñ–æ—Ä–º–∞—Ç

**–ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç–æ–¥—ã**:
- `connect()` - –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ LiveKit room
- `start_recording()` - –ù–∞—á–∞–ª–æ –∑–∞–ø–∏—Å–∏
- `stop_recording()` - –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
- `_merge_video_audio_with_ffmpeg()` - –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —Ç—Ä–µ–∫–æ–≤

#### `pipecat_integration/heygen_processor.py`
**–§—É–Ω–∫—Ü–∏—è**: –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –ø–æ—Ç–æ–∫–æ–≤ HeyGen  
**–†–æ–ª—å**: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Pipecat framework

#### `pipecat_integration/stream_recorder.py`
**–§—É–Ω–∫—Ü–∏—è**: –ó–∞–ø–∏—Å—å –ø–æ—Ç–æ–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö  
**–†–æ–ª—å**: –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–π –º–æ–¥—É–ª—å –¥–ª—è –∑–∞–ø–∏—Å–∏

#### `pipecat_integration/webrtc_client.py`
**–§—É–Ω–∫—Ü–∏—è**: WebRTC –∫–ª–∏–µ–Ω—Ç  
**–†–æ–ª—å**: –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π WebRTC –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

### `console/` - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

#### `console/chat_interface.py`
**–§—É–Ω–∫—Ü–∏—è**: –ö–æ–Ω—Å–æ–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è  
**–°—Ç–∞—Ç—É—Å**: üîÑ –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ –¥–ª—è main.py

### `utils/` - –£—Ç–∏–ª–∏—Ç—ã

#### `utils/video_audio_merge.py`
**–§—É–Ω–∫—Ü–∏—è**: –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –≤–∏–¥–µ–æ –∏ –∞—É–¥–∏–æ —Ñ–∞–π–ª–æ–≤  
**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏**: FFmpeg integration

---

## üìã –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### `.env.example`
**–§—É–Ω–∫—Ü–∏—è**: –ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ API –∫–ª—é—á–µ–π  
**–°–æ–¥–µ—Ä–∂–∏–º–æ–µ**:
```bash
HEYGEN_API_KEY=your_heygen_api_key_here
DEEPGRAM_API_KEY=your_deepgram_api_key_here
GEMINI_API_KEY=your_gemini_api_key_here
DEFAULT_AVATAR_ID=default
DEFAULT_QUALITY=medium
OUTPUT_DIR=outputs
```

### `.env`
**–§—É–Ω–∫—Ü–∏—è**: –†–µ–∞–ª—å–Ω—ã–µ API –∫–ª—é—á–∏ (–≤ .gitignore)  
**–°—Ç–∞—Ç—É—Å**: üîí –ü—Ä–∏–≤–∞—Ç–Ω—ã–π —Ñ–∞–π–ª

### `requirements.txt`
**–§—É–Ω–∫—Ü–∏—è**: Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏  
**–ö–ª—é—á–µ–≤—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏**:
- `pipecat-ai` - Framework –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø–æ—Ç–æ–∫–æ–≤
- `livekit` - WebRTC –∏ –∑–∞–ø–∏—Å—å
- `deepgram-sdk` - Speech-to-Text
- `google-generativeai` - Gemini LLM
- `pyaudio` - –ú–∏–∫—Ä–æ—Ñ–æ–Ω
- `ffmpeg-python` - –í–∏–¥–µ–æ –æ–±—Ä–∞–±–æ—Ç–∫–∞

---

## üß™ –¢–µ—Å—Ç–æ–≤—ã–µ –∏ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã

### `test_components.py`
**–§—É–Ω–∫—Ü–∏—è**: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Å–∏—Å—Ç–µ–º—ã  
**–¢–µ—Å—Ç—ã**:
- HeyGen API –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
- Deepgram STT
- Gemini LLM
- LiveKit —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ

### `run.py`
**–§—É–Ω–∫—Ü–∏—è**: –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Ñ–∞–π–ª –∑–∞–ø—É—Å–∫–∞  
**–°—Ç–∞—Ç—É—Å**: üîÑ –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π

### `voice_chat.py`
**–§—É–Ω–∫—Ü–∏—è**: –ë–∞–∑–æ–≤–∞—è –≤–µ—Ä—Å–∏—è –≥–æ–ª–æ—Å–æ–≤–æ–≥–æ —á–∞—Ç–∞  
**–°—Ç–∞—Ç—É—Å**: üìö –ê—Ä—Ö–∏–≤–Ω–∞—è –≤–µ—Ä—Å–∏—è

---

## üìÅ –î–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏

### `outputs/`
**–§—É–Ω–∫—Ü–∏—è**: –í—ã—Ö–æ–¥–Ω—ã–µ —Ñ–∞–π–ª—ã (–≤–∏–¥–µ–æ –∑–∞–ø–∏—Å–∏)  
**–°–æ–¥–µ—Ä–∂–∏–º–æ–µ**:
```
üìÅ outputs/
‚îú‚îÄ‚îÄ üìÑ README.md
‚îú‚îÄ‚îÄ üé¨ avatar_response_20250731_183905_session_xxx.mp4  # –ü–æ–ª–Ω–∞—è —Å–µ—Å—Å–∏—è
‚îú‚îÄ‚îÄ üé¨ avatar_response_20250731_183355_voice_task_xxx.mp4  # –û—Ç–¥–µ–ª—å–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã
‚îî‚îÄ‚îÄ üìä *.wav  # –ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ –∞—É–¥–∏–æ —Ñ–∞–π–ª—ã
```

**–§–æ—Ä–º–∞—Ç—ã**:
- **–ü–æ–ª–Ω–∞—è —Å–µ—Å—Å–∏—è**: `session_[session_id].mp4` (–Ω–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞)
- **–û—Ç–¥–µ–ª—å–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã**: `voice_task_[timestamp].mp4` (—Å—Ç–∞—Ä–∞—è —Å–∏—Å—Ç–µ–º–∞)

### `venv/`
**–§—É–Ω–∫—Ü–∏—è**: Python –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ  
**–°—Ç–∞—Ç—É—Å**: üö´ –í .gitignore

### `__pycache__/`
**–§—É–Ω–∫—Ü–∏—è**: Python compiled files  
**–°—Ç–∞—Ç—É—Å**: üö´ –í .gitignore

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### `README.md` ‚≠ê **[–ì–õ–ê–í–ù–ê–Ø –î–û–ö–£–ú–ï–ù–¢–ê–¶–ò–Ø]**
**–°–æ–¥–µ—Ä–∂–∏–º–æ–µ**:
- –û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞ –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
- –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ
- –û–ø–∏—Å–∞–Ω–∏–µ API endpoints
- –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
- –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### `QUICK_START.md`
**–°–æ–¥–µ—Ä–∂–∏–º–æ–µ**: –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫ –∑–∞ 5 –º–∏–Ω—É—Ç

### `API_ENDPOINTS.md`
**–°–æ–¥–µ—Ä–∂–∏–º–æ–µ**: –ü–æ–ª–Ω—ã–π —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –ø–æ –≤—Å–µ–º API

### `ARCHITECTURE.md`  
**–°–æ–¥–µ—Ä–∂–∏–º–æ–µ**: –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã —Å–∏—Å—Ç–µ–º—ã

### `PROJECT_STRUCTURE.md` (—ç—Ç–æ—Ç —Ñ–∞–π–ª)
**–°–æ–¥–µ—Ä–∂–∏–º–æ–µ**: –û–ø–∏—Å–∞–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ —Ñ–∞–π–ª–∞ –≤ –ø—Ä–æ–µ–∫—Ç–µ

### `VOICE_CHAT_README.md`
**–°—Ç–∞—Ç—É—Å**: üìö –ê—Ä—Ö–∏–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

---

## üõ†Ô∏è –°–ª—É–∂–µ–±–Ω—ã–µ —Ñ–∞–π–ª—ã

### `.gitignore`
**–§—É–Ω–∫—Ü–∏—è**: –ò—Å–∫–ª—é—á–µ–Ω–∏—è –¥–ª—è Git  
**–ò—Å–∫–ª—é—á–∞–µ—Ç**:
```
.env
venv/
__pycache__/
*.log
outputs/*.mp4
outputs/*.wav
```

### `install.sh`
**–§—É–Ω–∫—Ü–∏—è**: –°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏  
**–î–µ–π—Å—Ç–≤–∏—è**:
- –°–æ–∑–¥–∞–Ω–∏–µ venv
- –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- –ü—Ä–æ–≤–µ—Ä–∫–∞ FFmpeg

### `demo.sh`
**–§—É–Ω–∫—Ü–∏—è**: –°–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞ –¥–µ–º–æ  

### `avatar_chat.log`
**–§—É–Ω–∫—Ü–∏—è**: –õ–æ–≥ —Ñ–∞–π–ª –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è  
**–°–æ–¥–µ—Ä–∂–∏–º–æ–µ**: –ü–æ–¥—Ä–æ–±–Ω—ã–µ –ª–æ–≥–∏ —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

### üìà –†–∞–∑–º–µ—Ä –∫–æ–¥–æ–≤–æ–π –±–∞–∑—ã
- **–û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥**: ~1,500 —Å—Ç—Ä–æ–∫ Python
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: ~2,000 —Å—Ç—Ä–æ–∫ Markdown  
- **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**: ~100 —Å—Ç—Ä–æ–∫

### üß© –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- **6 –æ—Å–Ω–æ–≤–Ω—ã—Ö –º–æ–¥—É–ª–µ–π**
- **4 API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏** (HeyGen, Deepgram, Gemini, LiveKit)
- **3 —É—Ä–æ–≤–Ω—è –æ–±—Ä–∞–±–æ—Ç–∫–∏** (Audio ‚Üí Text ‚Üí Avatar)
- **2 —Ä–µ–∂–∏–º–∞ –∑–∞–ø–∏—Å–∏** (–ù–µ–ø—Ä–µ—Ä—ã–≤–Ω–∞—è + –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–∞—è)

### üì¶ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- **15+ Python –±–∏–±–ª–∏–æ—Ç–µ–∫**
- **4 —Å–∏—Å—Ç–µ–º–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏** (FFmpeg, PortAudio, etc.)
- **3 –≤–Ω–µ—à–Ω–∏—Ö API —Å–µ—Ä–≤–∏—Å–∞**

---

## üéØ –¢–æ—á–∫–∏ –≤—Ö–æ–¥–∞ –≤ —Å–∏—Å—Ç–µ–º—É

### –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:
1. **`python voice_chat_gemini.py`** - –ü–æ–ª–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å –º–∏–∫—Ä–æ—Ñ–æ–Ω–æ–º
2. **`python voice_chat_demo.py`** - –î–µ–º–æ —Å —Ç–µ—Å—Ç–æ–≤—ã–º–∏ —Å—Ü–µ–Ω–∞—Ä–∏—è–º–∏

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤:
1. **`python test_components.py`** - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
2. **`python main.py`** - –ö–æ–Ω—Å–æ–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)

### –î–ª—è –∏–∑—É—á–µ–Ω–∏—è:
1. **`README.md`** - –ù–∞—á–Ω–∏—Ç–µ –∑–¥–µ—Å—å
2. **`QUICK_START.md`** - –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
3. **`ARCHITECTURE.md`** - –ì–ª—É–±–æ–∫–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ
4. **`API_ENDPOINTS.md`** - –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –ø–æ API

---

**üéâ –ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—é!**
- `.env` - –§–∞–π–ª —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –∏ API –∫–ª—é—á–∞–º–∏
- `.env.example` - –ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞
- `requirements.txt` - –°–ø–∏—Å–æ–∫ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π Python

### üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- `README.md` - –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
- `PROJECT_STRUCTURE.md` - –≠—Ç–æ—Ç —Ñ–∞–π–ª —Å–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π –ø—Ä–æ–µ–∫—Ç–∞

### üõ†Ô∏è –°–∫—Ä–∏–ø—Ç—ã —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏ –¥–µ–º–æ
- `install.sh` - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
- `demo.sh` - –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–π –ø—Ä–æ–µ–∫—Ç–∞

### üìÑ –°–ª—É–∂–µ–±–Ω—ã–µ —Ñ–∞–π–ª—ã
- `.gitignore` - –ò—Å–∫–ª—é—á–µ–Ω–∏—è –¥–ª—è Git
- `avatar_chat.log` - –§–∞–π–ª –ª–æ–≥–æ–≤ (—Å–æ–∑–¥–∞–µ—Ç—Å—è –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ)

## üìÇ –ú–æ–¥—É–ª–∏ –ø—Ä–æ–µ–∫—Ç–∞

### heygen/ - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å HeyGen API
```
heygen/
‚îú‚îÄ‚îÄ __init__.py              # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –º–æ–¥—É–ª—è
‚îú‚îÄ‚îÄ config.py                # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
‚îî‚îÄ‚îÄ session_manager.py       # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ HeyGen —Å–µ—Å—Å–∏—è–º–∏
```

**config.py**
- –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∏–∑ .env —Ñ–∞–π–ª–∞
- –í–∞–ª–∏–¥–∞—Ü–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

**session_manager.py**
- –°–æ–∑–¥–∞–Ω–∏–µ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ streaming —Å–µ—Å—Å–∏—è–º–∏
- API –º–µ—Ç–æ–¥—ã: new, start, stop, task, interrupt, keep_alive
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Å–µ—Å—Å–∏–π
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ API

### console/ - –ö–æ–Ω—Å–æ–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
```
console/
‚îú‚îÄ‚îÄ __init__.py              # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –º–æ–¥—É–ª—è
‚îî‚îÄ‚îÄ chat_interface.py        # –û—Å–Ω–æ–≤–Ω–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —á–∞—Ç–∞
```

**chat_interface.py**
- –ö–æ–Ω—Å–æ–ª—å–Ω–æ–µ –º–µ–Ω—é –∏ –∫–æ–º–∞–Ω–¥—ã
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –≤–≤–æ–¥–∞
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏–µ–π –∏ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å frame processor
- Keep-alive –º–µ—Ö–∞–Ω–∏–∑–º

### pipecat_integration/ - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Pipecat
```
pipecat_integration/
‚îú‚îÄ‚îÄ __init__.py              # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –º–æ–¥—É–ª—è
‚îú‚îÄ‚îÄ heygen_processor.py      # Pipecat Frame Processor
‚îî‚îÄ‚îÄ stream_recorder.py       # –ó–∞–ø–∏—Å—å –≤–∏–¥–µ–æ –ø–æ—Ç–æ–∫–æ–≤
```

**heygen_processor.py**
- Pipecat Frame Processor –¥–ª—è HeyGen
- –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –∑–∞–¥–∞—á —Å –∑–∞–ø–∏—Å—å—é –≤–∏–¥–µ–æ
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –æ–±—Ä–∞–±–æ—Ç–∫–∏
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è audio/video frames (–¥–ª—è –±—É–¥—É—â–µ–≥–æ)
- –ú–æ—Å—Ç –º–µ–∂–¥—É Pipecat –∏ HeyGen

**stream_recorder.py**
- –ó–∞–ø–∏—Å—å WebSocket/WebRTC –ø–æ—Ç–æ–∫–æ–≤
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–∏–¥–µ–æ —Ñ–∞–π–ª–∞–º–∏
- WebSocket handler –¥–ª—è LiveKit
- –≠–º—É–ª—è—Ü–∏—è –∑–∞–ø–∏—Å–∏ (–¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)

### outputs/ - –í—ã—Ö–æ–¥–Ω—ã–µ —Ñ–∞–π–ª—ã
```
outputs/
‚îú‚îÄ‚îÄ README.md                # –û–ø–∏—Å–∞–Ω–∏–µ –ø–∞–ø–∫–∏
‚îî‚îÄ‚îÄ [video files]            # –°–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –≤–∏–¥–µ–æ –æ—Ç–≤–µ—Ç—ã –∞–≤–∞—Ç–∞—Ä–∞
```

## üîÑ Workflow –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### 1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
```
main.py ‚Üí console/chat_interface.py ‚Üí heygen/config.py
```

### 2. –°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Å—Å–∏–∏
```
console/chat_interface.py ‚Üí heygen/session_manager.py ‚Üí HeyGen API
```

### 3. –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π
```
User Input ‚Üí console/chat_interface.py ‚Üí 
pipecat_integration/heygen_processor.py ‚Üí 
heygen/session_manager.py ‚Üí HeyGen API ‚Üí
pipecat_integration/stream_recorder.py ‚Üí Video File
```

### 4. –ö–æ–º–∞–Ω–¥—ã
```
/help, /avatars, /status, /outputs, /interrupt, /quit ‚Üí
console/chat_interface.py ‚Üí Various handlers
```

## üîß –ö–ª—é—á–µ–≤—ã–µ –∫–ª–∞—Å—Å—ã –∏ –º–µ—Ç–æ–¥—ã

### HeyGenSessionManager
```python
- create_session()           # –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π —Å–µ—Å—Å–∏–∏
- start_session()            # –ó–∞–ø—É—Å–∫ —Å–µ—Å—Å–∏–∏
- send_task()                # –û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–¥–∞—á –∞–≤–∞—Ç–∞—Ä—É
- interrupt_task()           # –ü—Ä–µ—Ä—ã–≤–∞–Ω–∏–µ —Ä–µ—á–∏
- keep_alive()               # –ü–æ–¥–¥–µ—Ä–∂–∞–Ω–∏–µ —Å–µ—Å—Å–∏–∏
- close_session()            # –ó–∞–∫—Ä—ã—Ç–∏–µ —Å–µ—Å—Å–∏–∏
- close_all_active_sessions() # –ó–∞–∫—Ä—ã—Ç–∏–µ –≤—Å–µ—Ö —Å–µ—Å—Å–∏–π
```

### HeyGenFrameProcessor
```python
- initialize()               # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞
- process_text_task()        # –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ–∫—Å—Ç–∞ —Å –∑–∞–ø–∏—Å—å—é
- interrupt_current_task()   # –ü—Ä–µ—Ä—ã–≤–∞–Ω–∏–µ —Ç–µ–∫—É—â–µ–π –∑–∞–¥–∞—á–∏
- get_processing_status()    # –°—Ç–∞—Ç—É—Å –æ–±—Ä–∞–±–æ—Ç–∫–∏
```

### StreamRecorder
```python
- start_recording()          # –ù–∞—á–∞–ª–æ –∑–∞–ø–∏—Å–∏
- add_frame()                # –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–∞–¥—Ä–∞
- stop_recording()           # –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–ø–∏—Å–∏
- generate_filename()        # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–º–µ–Ω–∏ —Ñ–∞–π–ª–∞
```

### ConsoleAvatarChat
```python
- initialize_session()       # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–µ—Å—Å–∏–∏
- send_message_to_avatar()   # –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è
- process_command()          # –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥
- chat_loop()                # –û—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª —á–∞—Ç–∞
```

## üöÄ –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å

### –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
```bash
./install.sh                # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞
# –ù–∞—Å—Ç—Ä–æ–π—Ç–µ .env —Ñ–∞–π–ª —Å API –∫–ª—é—á–æ–º
python main.py               # –ó–∞–ø—É—Å–∫
```

### –†—É—á–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞
```bash
python3 -m venv venv
source venv/bin/activate
pip install -r requirements.txt
cp .env.example .env
# –ù–∞—Å—Ç—Ä–æ–π—Ç–µ .env —Ñ–∞–π–ª
python main.py
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
```bash
python test_components.py   # –¢–µ—Å—Ç –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
./demo.sh                   # –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
```

## üìä –†–∞–∑–º–µ—Ä –ø—Ä–æ–µ–∫—Ç–∞

- **–í—Å–µ–≥–æ —Ñ–∞–π–ª–æ–≤**: ~15
- **–°—Ç—Ä–æ–∫ –∫–æ–¥–∞**: ~1500+
- **–ú–æ–¥—É–ª–µ–π Python**: 8
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π**: 8

## üéØ –ì–æ—Ç–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ HeyGen —Å–µ—Å—Å–∏—è–º–∏
- ‚úÖ –ö–æ–Ω—Å–æ–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å –∫–æ–º–∞–Ω–¥–∞–º–∏
- ‚úÖ –ó–∞–ø–∏—Å—å –≤–∏–¥–µ–æ –æ—Ç–≤–µ—Ç–æ–≤ (—ç–º—É–ª—è—Ü–∏—è)
- ‚úÖ –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è –∞–∫—Ç–∏–≤–Ω–∞—è —Å–µ—Å—Å–∏—è
- ‚úÖ –ü—Ä–µ—Ä—ã–≤–∞–Ω–∏–µ —Ä–µ—á–∏ –∞–≤–∞—Ç–∞—Ä–∞
- ‚úÖ Keep-alive –º–µ—Ö–∞–Ω–∏–∑–º
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ .env

## üîÆ –î–ª—è –±—É–¥—É—â–µ–≥–æ —Ä–∞–∑–≤–∏—Ç–∏—è

- [ ] –†–µ–∞–ª—å–Ω–∞—è WebRTC –∑–∞–ø–∏—Å—å —á–µ—Ä–µ–∑ LiveKit
- [ ] STT –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –¥–ª—è –≥–æ–ª–æ—Å–æ–≤–æ–≥–æ –≤–≤–æ–¥–∞
- [ ] –ü–æ–ª–Ω–∞—è Pipecat pipeline –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- [ ] GUI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- [ ] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∞–≤–∞—Ç–∞—Ä–æ–≤
- [ ] Chat mode —Å AI –¥–∏–∞–ª–æ–≥–∞–º–∏

---

**–ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é! üöÄ**
